<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" href="assets/img/Tinylogo.PNG" type="image/png">
  <title>‡∏£‡∏∞‡∏ö‡∏≤‡∏¢</title>
  <!-- <link rel="stylesheet" href="common/common.css" /> -->
  <style>
    @font-face {
      font-family: 'TORSILPCHILLCHILL';
      src: url('fonts/TORSILPCHILLCHILL.TTF') format('truetype');
      font-weight: normal;
      font-style: normal;
    }

    body,
    html {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 105vh;
      background-color: #f4e9dd;
      font-family: 'TORSILPCHILLCHILL', sans-serif;
      overflow-x: hidden;
    }

    .containerdrop {
      position: relative;
      width: 100vw;
      height: 100vh;
      overflow: hidden;
    }

    .color-item {
      position: absolute;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background-size: cover;
      background-position: center;
      opacity: 0;
      transition: opacity 0.2s ease-in-out;
      z-index: 1;
    }

    .color-item.active {
      opacity: 1;
    }

    .textdrop-container {
      text-align: center;
      position: relative;
      z-index: 2;
      top: 3vw;
      right: -42px;
    }

    .textdrop-overlay {
      position: absolute;
      top: 28vh;
      left: 35vw;
      transform: translate(-50%, -50%);
      color: #714937;
      font-size: 3vw;
      font-weight: normal;
      text-align: center;
      z-index: 10;
      opacity: 0;
      transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out;
      font-family: "TorsilpRajun2024", sans-serif;
      text-shadow: 1px 1px 5px rgba(255, 255, 255, 0.8);
    }

    .textdrop-overlay.active {
      opacity: 1;
      transform: translate(-50%, -50%);
    }

    .secondary-text {
      position: absolute;
      top: 34vh;
      left: 35vw;
      transform: translate(-50%, -50%);
      color: #714937;
      font-size: 2vw;
      font-weight: normal;
      text-align: center;
      z-index: 10;
      opacity: 0;
      transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out;
    }

    .secondary-text.active {
      opacity: 1;
      transform: translate(-50%, -50%);
    }

    .buttondrop-and-image {
      position: absolute;
      bottom: 2vh;
      left: 50vw;
      transform: translateX(-20%);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 1vw;
      text-align: center;
      opacity: 0;
      z-index: 11;
      transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out;
    }

    .buttondrop-and-image.active {
      opacity: 1;
      transform: translateX(-20%);
    }

    .buttondrop-and-image img {
      width: 35vw;
      height: auto;
      transition: transform 0.3s ease-in-out;
      cursor: pointer;
    }

    .buttondrop-and-image img:hover {
      transform: scale(1.2);
    }

    .buttondrop-and-image .text-container {
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .buttondrop-and-image p {
      font-size: 1.5vw;
      color: #333;
      margin: 0 0 1vw 0;
      white-space: nowrap;
    }

    .buttondrop-and-image button {
      background-color: #f77e39;
      border: none;
      padding: 1vw 1vw;
      border-radius: 3vw;
      color: white;
      font-size: 1.4vw;
      cursor: pointer;
      box-shadow: 0 0.5vw 1vw rgba(0, 0, 0, 0.2);
      font-family: 'Noto Sans Thai', sans-serif;
    }

    .buttondrop-and-image button:hover {
      background-color: #ea7938;
      color: white;
    }
  </style>
</head>

<body>
  <!-- <div id="common-content"></div> -->

  <div class="containerdrop">
    <div class="color-item" style="background-image: url('assets/img/drop1.PNG');"></div>
    <div class="color-item" style="background-image: url('assets/img/drop2_1.png');"></div>
    <div class="color-item" style="background-image: url('assets/img/drop3.PNG');"></div>
    <div class="color-item" style="background-image: url('assets/img/drop4.PNG');"></div>
    <div class="color-item" style="background-image: url('assets/img/drop5.PNG');"></div>
    <div class="color-item" style="background-image: url('assets/img/drop6.PNG');"></div>
    <div class="color-item" style="background-image: url('assets/img/drop7_1.png');"></div>


    <div class="textdrop-container">
      <div class="textdrop-overlay">
        "‡∏Å‡∏≤‡∏£‡∏õ‡∏≤‡∏™‡∏µ"
      </div>

      <div class="secondary-text">
        ‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡∏Ñ‡∏•‡∏≤‡∏¢‡πÄ‡∏Ñ‡∏£‡∏µ‡∏¢‡∏î ‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå
      </div>
    </div>

    <div class="buttondrop-and-image">
      <div class="text-container">
        <!-- <p>‡∏•‡∏≠‡∏á‡∏°‡∏≤‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏≠‡∏≤‡∏£‡∏°‡∏ì‡πå‡∏Å‡∏±‡∏ö‡πÄ‡∏£‡∏≤‡∏î‡∏π‡∏™‡∏¥</p> -->
        <a href="color1.html">
          <button>‡∏°‡∏≤‡∏•‡∏≠‡∏á‡∏õ‡∏≤‡∏™‡∏µ‡∏Å‡∏±‡∏ö‡πÄ‡∏£‡∏≤üëàüèº</button></a>
      </div>
      <a href="color1.html">
        <img src="assets/img/iconcolor.png" alt="Paint Bucket"></a>
    </div>
  </div>

  <script>
    // function includeHTML() {
    //   fetch('common/common.html')
    //     .then(response => response.text())
    //     .then(data => {
    //       document.getElementById('common-content').innerHTML = data;
    //       const script = document.createElement('script');
    //       script.src = 'common/common.js';
    //       document.body.appendChild(script);
    //     });
    // }
    // window.onload = includeHTML;

    const backgroundItems = document.querySelectorAll('.color-item');
    const textOverlay = document.querySelector('.textdrop-overlay');
    const secondaryText = document.querySelector('.secondary-text');
    const buttonAndImage = document.querySelector('.buttondrop-and-image');

    const handleScroll = () => {
      const scrollPosition = window.scrollY;
      const triggerPoint = 0;
      const scrollStep = 1;

      backgroundItems.forEach((item, index) => {
        const itemTriggerPoint = triggerPoint + index * scrollStep;
        if (scrollPosition > itemTriggerPoint) {
          item.classList.add('active');
        } else {
          item.classList.remove('active');
        }
      });

      const lastDropTriggerPoint = triggerPoint + (backgroundItems.length - 1) * scrollStep;
      if (scrollPosition > lastDropTriggerPoint) {
        textOverlay.classList.add('active');
        secondaryText.classList.add('active');
        buttonAndImage.classList.add('active');
      } else {
        textOverlay.classList.remove('active');
        secondaryText.classList.remove('active');
        buttonAndImage.classList.remove('active');
      }
    };

    window.addEventListener('scroll', handleScroll);

    // ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå wheel ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏ñ‡∏∂‡∏á‡∏Ç‡∏≠‡∏ö‡∏Ç‡∏≠‡∏á‡∏´‡∏ô‡πâ‡∏≤
    let isScrolling = false;
    const delayScroll = 1500; // ‡∏´‡∏ô‡πà‡∏ß‡∏á 1.5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
    const scrollThreshold = 10; // ‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡πÄ‡∏°‡∏∑‡πà‡∏≠ scroll ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏Å‡∏•‡πâ‡∏Ç‡∏≠‡∏ö (50px)

    window.addEventListener("wheel", function (event) {
      if (isScrolling) return;

      const maxScroll = document.body.scrollHeight - window.innerHeight;
      // ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏•‡∏á‡πÅ‡∏•‡∏∞‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏Å‡∏•‡πâ‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á‡∏Ç‡∏≠‡∏á‡∏´‡∏ô‡πâ‡∏≤
      if (event.deltaY > 0 && window.scrollY >= maxScroll - scrollThreshold) {
        isScrolling = true;
        setTimeout(() => {
          window.location.href = "write.html"; // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤ write.html
        }, delayScroll);
      }
      // ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô‡πÅ‡∏•‡∏∞‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏Å‡∏•‡πâ‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô‡∏Ç‡∏≠‡∏á‡∏´‡∏ô‡πâ‡∏≤
      if (event.deltaY < 0 && window.scrollY <= scrollThreshold) {
        isScrolling = true;
        setTimeout(() => {
          window.location.href = "flower.html"; // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤ flower.html
        }, delayScroll);
      }
    });

    /****************** ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå Touch ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö iPad/‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ ******************/
    let touchStartY = 0;
    let touchEndY = 0;

    window.addEventListener("touchstart", (e) => {
      touchStartY = e.changedTouches[0].clientY;
    }, { passive: true });

    window.addEventListener("touchend", (e) => {
      touchEndY = e.changedTouches[0].clientY;
      handleSwipe();
    }, { passive: true });

    function handleSwipe() {
      const swipeThreshold = 50; // ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏±‡∏î (‡∏û‡∏¥‡∏Å‡πÄ‡∏ã‡∏•)
      const maxScroll = document.body.scrollHeight - window.innerHeight;

      if (touchStartY - touchEndY > swipeThreshold) {
        // ‡∏õ‡∏±‡∏î‡∏Ç‡∏∂‡πâ‡∏ô (swipe up) ‡∏ñ‡πâ‡∏≤‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏Å‡∏•‡πâ‡∏•‡πà‡∏≤‡∏á‡∏™‡∏∏‡∏î
        if (window.scrollY >= maxScroll - scrollThreshold && !isScrolling) {
          isScrolling = true;
          setTimeout(() => {
            window.location.href = "write.html";
          }, delayScroll);
        }
      } else if (touchEndY - touchStartY > swipeThreshold) {
        // ‡∏õ‡∏±‡∏î‡∏•‡∏á (swipe down) ‡∏ñ‡πâ‡∏≤‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏Å‡∏•‡πâ‡∏ö‡∏ô‡∏™‡∏∏‡∏î
        if (window.scrollY <= scrollThreshold && !isScrolling) {
          isScrolling = true;
          setTimeout(() => {
            window.location.href = "flower.html";
          }, delayScroll);
        }
      }
    }

  </script>
  <!-- <script src="common/common.js"></script> -->
</body>

</html>
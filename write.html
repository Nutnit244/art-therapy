<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="icon" href="assets/img/Tinylogo.PNG" type="image/png">
  <title>‡∏£‡∏∞‡∏ö‡∏≤‡∏¢</title>
  <!-- <link rel="stylesheet" href="common/common.css" />  -->
  <style>
    @font-face {
      font-family: 'TORSILPCHILLCHILL';
      src: url('assets/TORSILPCHILLCHILL.TTF') format('truetype');
      font-weight: normal;
      font-style: normal;
    }

    @font-face {
      font-family: "Noto Sans Thai";
      src: url("assets/NotoSansThai-VariableFont_wdth,wght.ttf") format("truetype");
      font-weight: normal;
      font-style: normal;
    }

    body {
      margin: 0;
      padding: 0;
      background-color: #f4e9dd;
      overflow-x: hidden;
      height: 105vh;
      font-family: 'TORSILPCHILLCHILL', sans-serif;
    }

    .line-container {
      position: relative;
      width: 100%;
      height: 100vh;
    }

    img.line {
      position: absolute;
      top: 50%;
      left: 50%;
      width: 100vw;
      height: auto;
      transform: translate(-50%, -50%) translateY(5vw);
      opacity: 0;
      transition: opacity 0.5s ease, transform 0.5s ease;
    }

    img.line.show {
      opacity: 0.6;
      transform: translate(-50%, -50%) translateY(0);
    }

    .main-title {
      position: absolute;
      top: 20vh;
      left: 40vw;
      transform: translate(-50%, -50%);
      color: #714937;
      font-size: 3vw;
      font-weight: normal;
      text-align: center;
      opacity: 0;
      transition: opacity 0.5s ease;
      font-family: "TorsilpRajun2024", sans-serif;
      text-shadow: 1px 1px 5px rgba(255, 255, 255, 0.8);
    }

    .main-title.active {
      opacity: 1;
    }

    .final-text {
      position: absolute;
      bottom: 55%;
      left: 22%;
      text-align: center;
      transform: scale(1.5);
      opacity: 0;
      transition: opacity 0.5s ease;
      font-size: 2vw;
    }

    .final-text p {
      margin: 0.5vw 0;
      font-size: 1.5vw;
      color: #714937
    }

    .final-button {
      position: absolute;
      bottom: 20%;
      left: 43%;
      opacity: 0;
      transition: opacity 0.5s ease;
    }

    .final-button button {
      padding: 1vw 2vw;
      background-color: #f39eb6;
      border: none;
      border-radius: 3vw;
      font-size: 1.4vw;
      color: white;
      cursor: pointer;
      box-shadow: 0 0.4vw 0.6vw rgba(0, 0, 0, 0.2);
      font-family: 'Noto Sans Thai', sans-serif;
    }

    .final-button button:hover {
      background-color: #e37daa;
      color: white;
    }

    .final-icon {
      position: absolute;
      bottom: -1%;
      right: 3%;
      opacity: 0;
      transition: opacity 0.5s ease;
    }

    .final-icon img {
      width: 40vw;
      height: auto;
    }

    .final-icon:hover {
      transform: scale(1.1);
      transition: transform 0.3s ease;
      cursor: pointer;
    }
  </style>
</head>

<body>
  <!-- <div id="common-content"></div> -->

  <div class="line-container">
    <img src="assets/img/line1.png" alt="Line 1" class="line">
    <img src="assets/img/line2.png" alt="Line 2" class="line">
    <img src="assets/img/line3.png" alt="Line 3" class="line">
    <img src="assets/img/line4.png" alt="Line 4" class="line">
    <img src="assets/img/line5.png" alt="Line 5" class="line">
  </div>

  <div class="main-title">"‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô‡∏£‡∏∞‡∏ö‡∏≤‡∏¢"</div>

  <div class="final-text">
    <p>‡∏ä‡πà‡∏ß‡∏¢‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏ô‡∏∂‡∏Å‡∏Ñ‡∏¥‡∏î‡∏ó‡∏µ‡πà‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏û‡∏π‡∏î‡∏≠‡∏≠‡∏Å‡∏°‡∏≤‡πÑ‡∏î‡πâ</p>
    <p>‡∏™‡∏∑‡πà‡∏≠‡∏™‡∏≤‡∏£‡πÅ‡∏ó‡∏ô‡∏Ñ‡∏≥‡∏û‡∏π‡∏î</p>
  </div>

  <div class="final-button">
    <a href="write2.html">
      <button>‡∏°‡∏≤‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‡∏Å‡∏±‡∏ö‡πÄ‡∏£‡∏≤üëàüèº</button>
    </a>
  </div>

  <div class="final-icon">
    <a href="write2.html">
      <img src="assets/img/iconbook.png" alt="Icon">
    </a>
  </div>

  <script>
    // ‡πÇ‡∏´‡∏•‡∏î common content ‡πÅ‡∏•‡∏∞ common.js ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏û‡∏à‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏™‡∏£‡πá‡∏à
    // function includeHTML() {
    //   fetch('common/common.html')
    //     .then(response => response.text())
    //     .then(data => {
    //       document.getElementById('common-content').innerHTML = data;
    //       const script = document.createElement('script');
    //       script.src = 'common/common.js';
    //       document.body.appendChild(script);
    //     });
    // }
    // window.onload = includeHTML;

    document.addEventListener('DOMContentLoaded', () => {
      const lines = document.querySelectorAll('img.line');
      const mainTitle = document.querySelector('.main-title');
      const finalText = document.querySelector('.final-text');
      const finalButton = document.querySelector('.final-button');
      const finalIcon = document.querySelector('.final-icon');

      const handleScroll = () => {
        const scrollY = window.scrollY;
        const triggerPoint = 0;

        lines.forEach((line, index) => {
          const lineTrigger = triggerPoint + index * 1.5;
          if (scrollY > lineTrigger) {
            line.classList.add('show');
          } else {
            line.classList.remove('show');
          }
        });

        const finalTrigger = triggerPoint + (lines.length - 1) * 1.5;
        if (scrollY > finalTrigger) {
          mainTitle.classList.add('active');
          finalText.style.opacity = '1';
          finalButton.style.opacity = '1';
          finalIcon.style.opacity = '1';
        } else {
          mainTitle.classList.remove('active');
          finalText.style.opacity = '0';
          finalButton.style.opacity = '0';
          finalIcon.style.opacity = '0';
        }
      };

      window.addEventListener('scroll', handleScroll);
    });
    // ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå wheel ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏´‡∏ô‡πâ‡∏≤
    let isScrolling = false;
    const delayScroll = 1500; // ‡∏´‡∏ô‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤ 1.5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
    const scrollThreshold = 50; // ‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡πÄ‡∏°‡∏∑‡πà‡∏≠ scroll ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏Å‡∏•‡πâ‡∏Ç‡∏≠‡∏ö (50px)

    function smoothScroll(targetY) {
      window.scrollTo({
        top: targetY,
        behavior: "smooth",
      });
    }

    window.addEventListener("wheel", function (event) {
      if (isScrolling) return;

      const maxScroll = document.body.scrollHeight - window.innerHeight;

      // ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏•‡∏á‡πÅ‡∏•‡∏∞‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏Å‡∏•‡πâ‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á‡∏Ç‡∏≠‡∏á‡∏´‡∏ô‡πâ‡∏≤
      if (event.deltaY > 0 && window.scrollY >= maxScroll - scrollThreshold) {
        isScrolling = true;
        smoothScroll(maxScroll);
        setTimeout(() => {
          window.location.href = "end.html"; // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤ end.html
        }, delayScroll);
      }
      // ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏Ç‡∏∂‡πâ‡∏ô‡πÅ‡∏•‡∏∞‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏Å‡∏•‡πâ‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô‡∏Ç‡∏≠‡∏á‡∏´‡∏ô‡πâ‡∏≤
      else if (event.deltaY < 0 && window.scrollY <= scrollThreshold) {
        isScrolling = true;
        smoothScroll(0);
        setTimeout(() => {
          window.location.href = "color.html"; // ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤ color.html
        }, delayScroll);
      }
    });

    /****************** ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå Touch ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö iPad/‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ ******************/
    let touchStartY = 0;
    let touchEndY = 0;

    window.addEventListener("touchstart", (e) => {
      touchStartY = e.changedTouches[0].clientY;
    }, { passive: true });

    window.addEventListener("touchend", (e) => {
      touchEndY = e.changedTouches[0].clientY;
      handleSwipe();
    }, { passive: true });

    function handleSwipe() {
      const swipeThreshold = 50; // ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏±‡∏î (‡∏û‡∏¥‡∏Å‡πÄ‡∏ã‡∏•)
      const maxScroll = document.body.scrollHeight - window.innerHeight;

      if (touchStartY - touchEndY > swipeThreshold) {
        // ‡∏õ‡∏±‡∏î‡∏Ç‡∏∂‡πâ‡∏ô (swipe up) ‡∏ñ‡πâ‡∏≤‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏Å‡∏•‡πâ‡∏•‡πà‡∏≤‡∏á‡∏™‡∏∏‡∏î
        if (window.scrollY >= maxScroll - scrollThreshold && !isScrolling) {
          isScrolling = true;
          setTimeout(() => {
            window.location.href = "end.html";
          }, delayScroll);
        }
      } else if (touchEndY - touchStartY > swipeThreshold) {
        // ‡∏õ‡∏±‡∏î‡∏•‡∏á (swipe down) ‡∏ñ‡πâ‡∏≤‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏Å‡∏•‡πâ‡∏ö‡∏ô‡∏™‡∏∏‡∏î
        if (window.scrollY <= scrollThreshold && !isScrolling) {
          isScrolling = true;
          setTimeout(() => {
            window.location.href = "color.html";
          }, delayScroll);
        }
      }
    }

  </script>
  <!-- <script src="common/common.js"></script> -->

</body>

</html>